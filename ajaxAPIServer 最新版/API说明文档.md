 # ajax阶段接口说明文档
>
>  注意：
> 
>  1.一定要按照说明文档使用接口，不然是不会有效果的
> 
>  2.我们现在是学习AJAX阶段，不是学习NodeJs阶段，所有的Node代码先都不要管
> 
>  3.在练习的时候一定一定一定要打开服务器



#### api接口

##### 获取随机笑话

- 请求路径：http://127.0.0.1:8080/getRandomJocke

- 请求方法：get

- 请求参数：无

- 响应数据(示例)

  ```tex
  '这是一个笑话'
  ```



##### 简单体验前台向后台发送请求

- 请求路径：http://127.0.0.1:8080/talkToServer

- 请求方法：get

- 请求参数：无

- 响应数据(示例)

  ```tex
  '服务器正常开启中...'
  ```

#####验证用户名是否已经存在

- 请求路径：http://127.0.0.1:8080/isUserNameExist

- 请求方式： get

- 请求参数：

  | 参数名称 | 参数说明         | 备注               |
  | -------- | ---------------- | ------------------ |
  | userName | 需要验证的用户名 | 普通格式字符串类型 |

- 响应数据(示例)

  ```tex
  {
      "code": 200,
      "msg": "用户名可用"
  }
  ```
#####获取json格式数据

- 请求路径：http://127.0.0.1:8080/getjson

- 请求方法：get

- 请求参数：无

- 响应数据(示例)

  ```tex
  [
      {
          "img":"/images/0.jpg",
          "name":"张三"
      },
      {
          "img":"/images/1.jpg",
          "name":"李四"
      },
      {
          "img":"/images/2.jpg",
          "name":"王五"
      },
      {
          "img":"/images/3.jpg",
          "name":"赵六"
      },
      {
          "img":"/images/4.jpg",
          "name":"赵四"
      }
  ]
  ```

##### 注册案例获取4位数据验证码

- 请求路径：http://127.0.0.1:8080/getCodeWithoutPhone

- 请求方法：get

- 请求参数：无(讲道理，这里应该传入手机号码，只是后台现在只是演示，没有要求这么做)

- 响应数据(示例)

  ```tex
  {
      "code": ‘1345’
  }
  ```

##### 注册案例实现用户注册

- 请求路径：http://127.0.0.1:8080/doRegister

- 请求方法： post

- 请求参数：

  | 参数名称 | 参数说明 | 备注       |
  | -------- | -------- | ---------- |
  | userName | 用户名   | 不能为null |
  | password | 密码     | 不能为null |
  | phone    | 手机号   | 不能为null |

- 响应数据(示例)

  ```tex
  {
      "code": 200,
      "msg": "注册成功"
  }
  ```



##### 用户登录案例的接口

* 请求路径  ： http://127.0.0.1:8080/doLogin
* 请求方式 ： post
* 请求参数 ： 

| 参数名称 | 参数说明 | 备注       |
| -------- | -------- | ---------- |
| userName | 用户名   | 不能为null |
| password | 密码     | 不能为null |

* 响应数据(示例)

```
{
	code : 200,
    msg : '登录成功',
    userId : 1
}
```



##### 验证用户是否已经登录

- 请求路径：http://127.0.0.1:8080/isLogin

- 请求方法：get

- 请求参数：

  | 参数名称 | 参数说明       | 备注       |
  | -------- | -------------- | ---------- |
  | id       | 登录的用户的id | 不能为null |

  

- 响应数据(示例)

  ```tex
  {
      "code": 200,
      "msg": "用户已经登录"
  }
  ```

##### 图片上传(英雄案例中图片上传也是使用这个)

- 请求路径：http://127.0.0.1:8080/uploadHeadImg

- 请求方法：post

- 请求参数：

  | 参数名称 | 参数说明           | 备注                   |
  | -------- | ------------------ | ---------------------- |
  | pic      | 需要上传的图片数据 | 使用 FormData 包装对象 |

- 响应数据(示例)

  ```tex
  {
      "code":200,
      "msg":"上传成功",
      "filePath":"upload_8a7d8efedf740ffa2bab0abea9a75541.jpg",
      baseDir : '../static/images/'
  }
  ```

##### “英雄”案例获取所有数据

- 请求路径：http://127.0.0.1:8080/getAllHero

- 请求方法：post

- 请求参数：无

- 响应数据(示例)

  ```tex
  {
      "code": 200,
      "msg": "获取数据成功",
      "data": [
          {
              "id": 1,
              "name": "jack",
              "gender": "男",
              "img": "1.jpg"
          },
          {
              "id": 2,
              "name": "rose",
              "gender": "女",
              "img": "4.jpg"
          }
      ]
  }
  ```

#####"英雄"案例实现新增用户信息

- 请求路径：http://127.0.0.1:8080/addNewHero

- 请求方法：post

- 请求参数：

  | 参数名称 | 参数说明    | 备注 |
  | -------- | ----------- | ---- |
  | name     | 用户名      |      |
  | gender   | 性别(男,女) |      |
  | img      | 图片名称    |      |

- 响应数据(示例)

  ```tex
  {
      "code": 200,
      "msg": "新增成功"
  }
  ```

#####"英雄"案例根据id获取英雄数据

* 请求路径 ： http://127.0.0.1:8080/getHeroById

* 请求方法 ：get

* 请求参数 ：

  | 参数名称 | 参数说明 | 备注       |
  | -------- | -------- | ---------- |
  | id       | 英雄的id | 不能为null |

* 响应数据(示例)

  ```
  {
  	code : 200,
  	msg : '获取成功',
  	data : {
  		"id" : 1,
  		"name" : "jack",
  		"gender" : "男",
  		"img" : "1.jpg"
  	}
  }
  ```

  

#####"英雄"案例实现用户编辑提交

- 请求路径：http://127.0.0.1:8080/eidtHeroById

- 请求方法：post

- 请求参数：

  | 参数名称 | 参数说明    | 备注           |
  | -------- | ----------- | -------------- |
  | name     | 用户名      |                |
  | gender   | 性别(男,女) |                |
  | img      | 图片名称    |                |
  | id       | 当前用户id  | 必须，做为条件 |

- 响应数据(示例)

  ```tex
  {
      "code": 200,
      "msg": "编辑成功"
  }
  ```

#####"英雄"案例实现删除单个用户

- 请求路径：http://127.0.0.1:8080/deleteHeroById

- 请求方法：get

- 请求参数：

  | 参数名称 | 参数说明 | 备注 |
  | -------- | -------- | ---- |
  | id       | 英雄的id |      |

- 响应数据(示例)

  ```tex
  {
      "code": 200,
      "msg": "删除成功"
  }
  ```
